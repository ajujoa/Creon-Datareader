# ============================================================
# EMA22 반등 조건 백테스팅 설정 파일
# ============================================================

[CONDITION_1]
name = 1봉반등조건                      # 조건명 (결과 파일에 표시)
description = 1봉전 EMA22아래, 2-8봉전 EMA22위, 당일 EMA22 회복    # 조건 설명
cross_pattern = 1                       # EMA22 아래 있는 기간 (1봉전만)
uptrend_candle_length = 7               # EMA22 위에 있어야 하는 기간 (7봉)

[CONDITION_2]
name = 2봉반등조건                      # 조건명 (결과 파일에 표시)
description = 1-2봉전 EMA22아래, 3-9봉전 EMA22위, 당일 EMA22 회복  # 조건 설명
cross_pattern = 2                       # EMA22 아래 있는 기간 (1-2봉전)
uptrend_candle_length = 7               # EMA22 위에 있어야 하는 기간 (7봉)

[CONDITION_3]
name = 3봉반등조건                      # 조건명 (결과 파일에 표시)
description = 1-3봉전 EMA22아래, 4-10봉전 EMA22위, 당일 EMA22 회복 # 조건 설명
cross_pattern = 3                       # EMA22 아래 있는 기간 (1-3봉전)
uptrend_candle_length = 7               # EMA22 위에 있어야 하는 기간 (7봉)

[COMMON]
# ============== 시스템 설정 ==============
max_workers = 8                        # 멀티프로세싱 프로세스 수 (1-CPU코어수)
chunk_size = 20                         # 파일 처리 청크 크기
trade_amount = 10000000                   # 거래 금액 (원) - 결과 계산용

# ============== 거래 설정 ==============
max_hold_days = 4                       # 최대 보유 기간 (일) - 강제매도 기준
tax_rate = 0.0023                       # 세금+수수료율 (0.23%) - 실제 거래비용

# ============== 매수 조건 ==============
min_price_increase = 2                  # 최소 상승률 (%) - 당일 상승폭 하한 1
max_price_increase = 15                  # 최대 상승률 (%) - 당일 상승폭 상한 8
min_profit_margin = 3                   # 최소 수익 마진 (%) - 익절가 기준

# ============== 손절 설정 ==============
absolute_stop_loss_pct = 8.0            # 절대 손절값 (%) - 매수가 기준 최대 손실률
                                        # EMA50 손절가와 비교하여 더 높은 값 사용

# ============== 추가 필터 조건 ==============
recent_high_period = 30                 # 최고값 조사 기간 (일) - 과거 N일간 최고값 기준
max_decline_from_high_pct = 25.0        # 최고값 대비 최대 하락률 (%) - 이 값 초과시 매수 제외 (30.0 → 50.0으로 완화)

